<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta
        name="viewport"
        content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="keywords" content="pengjielee,个人博客" />
    <meta name="description" content="Pengjielee的个人博客" />
    <title>Pengjielee&#39;s blog</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700" />
    <link rel="stylesheet" href="/css/style.css" />
</head>
<body><div id="main">
            <nav class="nav">
    <a href="/">首页</a> <span class="divide">|</span>
    <a href="/categories">分类</a>
    <span class="divide">|</span> <a href="/tags">标签</a>
    <span class="divide">|</span>
    <a href="/post">归档</a>
</nav>

    <div class="page page-single">
        <header class="header">
            <h1 class="title">Nginx启动出错</h1><div class="post-meta">
    <div class="date">2021-05-28</div>
        <div class="tags">
            <label class="label">Tags：</label>
                <a class="tags_link" href="/tags/nginx/" rel="tag">nginx</a>
        </div>
</div>
</header>
        <div class="content"><h2 id="环境">环境</h2>
<p>系统：Mac</p>
<h2 id="查看nginx目录">查看nginx目录</h2>
<pre tabindex="0"><code>which nginx 
</code></pre><p>output</p>
<pre tabindex="0"><code>/usr/local/bin/nginx
</code></pre><h2 id="检查nginx配置文件语法是否有错">检查nginx配置文件语法是否有错</h2>
<pre tabindex="0"><code>sudo /usr/local/bin/nginx -t
</code></pre><p>output</p>
<pre tabindex="0"><code>nginx: the configuration file /usr/local/etc/nginx/nginx.conf syntax is ok
nginx: configuration file /usr/local/etc/nginx/nginx.conf test is successful
</code></pre><h2 id="查看80端口占用">查看80端口占用</h2>
<pre tabindex="0"><code>sudo lsof -i:80
</code></pre><h2 id="查看nginx错误日志">查看nginx错误日志</h2>
<p>查看配置文件</p>
<pre tabindex="0"><code>cat /usr/local/etc/nginx/nginx.conf
</code></pre><p>查看nginx配置的错误日志目录</p>
<pre tabindex="0"><code>#user  nobody;
worker_processes  1;

error_log   /usr/local/etc/nginx/logs/error.log;
#error_log  logs/error.log  notice;
#error_log  logs/error.log  info;

#pid        logs/nginx.pid;


events {
    worker_connections  1024;
}
</code></pre><p>打开错误日志文件</p>
<pre tabindex="0"><code>vi /usr/local/etc/nginx/logs/error.log
</code></pre><p>跳到最后一行</p>
<pre tabindex="0"><code>shift + g
</code></pre><h2 id="管理nginx服务">管理nginx服务</h2>
<pre tabindex="0"><code>brew services list
</code></pre><pre tabindex="0"><code>brew services stop nginx
</code></pre><pre tabindex="0"><code>brew services start nginx
</code></pre><pre tabindex="0"><code>brew services restart nginx
</code></pre><h2 id="nginx错误日志">nginx错误日志</h2>
<p>1、[emerg] 33511#0: open() &ldquo;/usr/local/var/run/nginx.pid&rdquo; failed (13: Permission denied)</p>
<pre tabindex="0"><code>sudo /usr/local/bin/nginx -c /usr/local/etc/nginx/nginx.conf
</code></pre><p>2、[error] 33532#0: *1 directory index of &ldquo;/Users/pengjie/websites/&rdquo; is forbidden, client: 127.0.0.1, server: test.panda.com, request: &ldquo;GET / HTTP/1.1&rdquo;, host: &ldquo;localhost&rdquo;</p>
<pre tabindex="0"><code>vi /usr/local/etc/nginx/nginx.conf
</code></pre><p>把 user 用户名 改为 user root 或 其它有高权限的用户名称即可</p>
</div>
    </div>

        </div></body>
</html>
