<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta
        name="viewport"
        content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="keywords" content="pengjielee,个人博客" />
    <meta name="description" content="Pengjielee的个人博客" />
    <title>Pengjielee&#39;s blog</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700" />
    <link rel="stylesheet" href="/css/monokai-sublime.min.css" />
    <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
        <div id="main">
            <nav class="nav">
    <a href="/">首页</a> <span class="divide">|</span>
    <a href="/categories">分类</a>
    <span class="divide">|</span> <a href="/tags">标签</a>
    <span class="divide">|</span>
    <a href="/post">归档</a>
</nav>

    <div class="page page-single">
        <header class="header">
            <h1 class="title"></h1><div class="post-meta">
    <div class="date">0001-01-01</div>
</div>
</header>
        <div class="content"><h2 id="准备">准备</h2>
<pre tabindex="0"><code>$ mkdir webpack-multi-page-demo
$ cd webpack-multi-page-demo
$ mkdir src
$ npm init -y
</code></pre><h2 id="安装依赖">安装依赖</h2>
<pre tabindex="0"><code>$ npm install webpack webpack-cli html-webpack-plugin --save-dev
</code></pre><h2 id="创建多个页面js">创建多个页面js</h2>
<pre tabindex="0"><code>$ touch home.js
</code></pre><pre tabindex="0"><code>//home.js
export default function index() {
  return &#39;Home Page&#39;;
} 
document.getElementById(&#39;app&#39;).innerHTML = index();
</code></pre><pre tabindex="0"><code>$ touch blog.js
</code></pre><pre tabindex="0"><code>//blog.js
export default function index() {
  return &#39;Blog Page&#39;;
} 
document.getElementById(&#39;app&#39;).innerHTML = index();
</code></pre><pre tabindex="0"><code>$ touch about.js
</code></pre><pre tabindex="0"><code>//about.js
export default function index() {
  return &#39;About Page&#39;;
} 
document.getElementById(&#39;app&#39;).innerHTML = index();
</code></pre><pre tabindex="0"><code>$ touch template.html
</code></pre><pre tabindex="0"><code>//template.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&#34;UTF-8&#34;&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1&#34; /&gt;
    &lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&#34;app&#34;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>此时项目文件结构：</p>
<pre tabindex="0"><code>src
--about.js
--blog.js
--home.js
--template.html
</code></pre><h2 id="创建webpackconfigjs">创建webpack.config.js</h2>
<pre tabindex="0"><code>$ touch webpack.config.js
</code></pre><pre tabindex="0"><code>//webpack.config.js
const path = require(&#39;path&#39;);
const fs = require(&#39;fs&#39;);
const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);
//多个页面
const pages = [&#39;home&#39;,&#39;blog&#39;,&#39;about&#39;];
//入口
let entry = {};
//插件
let plugins = [];
const init = () =&gt; {
	pages.map(name =&gt; {
   plugins.push(
    new HtmlWebpackPlugin({
    minify: false, //是否压缩
      title: name,  //页面标题
      template: path.join(__dirname,`/src/template.html`), //模板文件
      filename: path.join(__dirname,`/dist/${name}.html`), //输出文件名
      inject: &#39;body&#39;,//脚本放置页面位置
      chunks: [name],
      hash: false
    })
   );
   entry[name] = `./src/${name}.js`
	});
}
init();
module.exports = {
  entry: entry,
  output: {
    filename: &#39;[name]-[contenthash].js&#39;,
    path: path.resolve(__dirname, &#39;dist&#39;)
  },
  plugins: plugins
};
</code></pre><h2 id="安装serve">安装serve</h2>
<pre tabindex="0"><code>$ npm install serve
</code></pre><h2 id="添加npm-scripts">添加npm scripts</h2>
<pre tabindex="0"><code>{
	&#34;scripts&#34;: {
      &#34;clean&#34;: &#34;rm -rf dist/&#34;,
      &#34;build&#34;: &#34;npm run clean &amp;&amp; webpack --config webpack.config.js&#34;,
      &#34;start&#34;: &#34;serve dist&#34;
  },
}
</code></pre><h2 id="完整代码">完整代码</h2>
<p><a href="https://github.com/pengjielee/webpack-multi-page-demo">https://github.com/pengjielee/webpack-multi-page-demo</a></p>
</div>
    </div>

        </div><script src="/js/highlight.min.js"></script>
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", (event) => {
        document.querySelectorAll("pre").forEach((block) => {
            hljs.highlightBlock(block);
        });
        
        
        
        
        
        
        
        
        
        
    });
</script>
</body>
</html>
