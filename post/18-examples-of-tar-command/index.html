<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta
        name="viewport"
        content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="keywords" content="pengjielee,个人博客" />
    <meta name="description" content="Pengjielee的个人博客" />
    <title>Pengjielee&#39;s blog</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700" />
    <link rel="stylesheet" href="/css/monokai-sublime.min.css" />
    <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
        <div id="main">
            <nav class="nav">
    <a href="/">首页</a> <span class="divide">|</span>
    <a href="/categories">分类</a>
    <span class="divide">|</span> <a href="/tags">标签</a>
    <span class="divide">|</span>
    <a href="/post">归档</a>
</nav>

    <div class="page page-single">
        <header class="header">
            <h1 class="title">18个tar命令例子</h1><div class="post-meta">
    <div class="date">2020-11-11</div>
        <div class="tags">
            <label class="label">Tags：</label>
                <a class="link" href="/tags/linux/" rel="tag">Linux</a>
        </div>
</div>
</header>
        <div class="content"><h2 id="prepare">Prepare</h2>
<pre tabindex="0"><code>$ mkdir dist
$ cd dist
$ touch file1.txt file2.txt
$ mkdir js
</code></pre><h2 id="1-create-tar-archive-file">1. Create tar Archive File</h2>
<pre tabindex="0"><code>$ tar -cvf dist.tar ./dist

a dist
a dist/file2.txt
a dist/file1.txt
a dist/js
</code></pre><p>NOTE:
c – Creates a new .tar archive file.
v – Verbosely show the .tar file progress.
f – File name type of the archive file.</p>
<h2 id="2-create-targz-archive-file">2. Create tar.gz Archive File</h2>
<pre tabindex="0"><code>$ tar cvzf dist.tar.gz ./dist
or
$ tar cvzf dist.tgz ./dist

a ./dist
a ./dist/file2.txt
a ./dist/file1.txt
a ./dist/js
</code></pre><p>Note:
z - Create a compressed gzip archive file.</p>
<p>Note:
tar.gz and tgz both are similar</p>
<pre tabindex="0"><code>$ ls -l

-rw-r--r--  1 pengjie  staff  3072 Nov 11 11:00 dist.tar
-rw-r--r--  1 pengjie  staff   180 Nov 11 11:05 dist.tar.gz
-rw-r--r--  1 pengjie  staff   180 Nov 11 11:05 dist.tgz
</code></pre><h2 id="3-create-tarbz2-archive-file">3. Create tar.bz2 Archive File</h2>
<pre tabindex="0"><code>$ tar cvfj dist.tar.bz2 ./dist
or
$ tar cvfj dist.tar.tbz ./dist
or
$ tar cvfj dist.tar.tb2 ./dist

a ./dist
a ./dist/file2.txt
a ./dist/file1.txt
a ./dist/js
</code></pre><p>Note:
j - create highly compressed tar file.</p>
<p>Note:
tar.bz2 and tbz is similar as tb2</p>
<pre tabindex="0"><code>$ ls -l

-rw-r--r--  1 pengjie  staff  3072 Nov 11 11:00 dist.tar
-rw-r--r--  1 pengjie  staff   180 Nov 11 11:05 dist.tgz
-rw-r--r--  1 pengjie  staff   180 Nov 11 11:05 dist.tar.gz
-rw-r--r--  1 pengjie  staff   205 Nov 11 11:19 dist.tar.bz2
-rw-r--r--  1 pengjie  staff   205 Nov 11 11:19 dist.tar.tbz
-rw-r--r--  1 pengjie  staff   205 Nov 11 11:19 dist.tar.tb2
</code></pre><h2 id="4-untar-tar-archive-file">4. Untar tar Archive File</h2>
<pre tabindex="0"><code>// 解压在当前目录
$ tar -xvf dist.tar

// 解压在指定目录
$ tar -xvf dist.tar -C /home/www
</code></pre><h2 id="5-uncompress-targz-archive-file">5. Uncompress tar.gz Archive File</h2>
<pre tabindex="0"><code>$ tar -xvf dist.tar.gz
</code></pre><h2 id="6-uncompress-tarbz2-archive-file">6. Uncompress tar.bz2 Archive File</h2>
<pre tabindex="0"><code>$ tar -xvf dist.tar.bz2
</code></pre><h2 id="7-list-content-of-tar-archive-file">7. List Content of tar Archive File</h2>
<pre tabindex="0"><code>$ tar -tvf dist.tar

drwxr-xr-x  0 pengjie staff       0 Nov 11 10:59 dist/
-rw-r--r--  0 pengjie staff       0 Nov 11 10:55 dist/file2.txt
-rw-r--r--  0 pengjie staff       0 Nov 11 10:55 dist/file1.txt
drwxr-xr-x  0 pengjie staff       0 Nov 11 10:57 dist/js/
</code></pre><h2 id="8-list-content-targz-archive-file">8. List Content tar.gz Archive File</h2>
<pre tabindex="0"><code>$ tar -tvf dist.tar.gz

drwxr-xr-x  0 pengjie staff       0 Nov 11 10:59 ./dist/
-rw-r--r--  0 pengjie staff       0 Nov 11 10:55 ./dist/file2.txt
-rw-r--r--  0 pengjie staff       0 Nov 11 10:55 ./dist/file1.txt
drwxr-xr-x  0 pengjie staff       0 Nov 11 10:57 ./dist/js/
</code></pre><h2 id="9-list-content-tarbz2-archive-file">9. List Content tar.bz2 Archive File</h2>
<pre tabindex="0"><code>$ tar -tvf dist.tar.bz2
</code></pre><h2 id="10-untar-single-file-from-tar-file">10. Untar Single file from tar File</h2>
<pre tabindex="0"><code>$ tar -xvf dist.tar dist/file1.txt
or
$ tar --extract --file=dist.tar dist/file1.txt


$ tar -xvf file1.tar file1.txt
or
$ tar --extract --file=file1.tar file1.txt
</code></pre><h2 id="11-untar-single-file-from-targz-file">11. Untar Single file from tar.gz File</h2>
<pre tabindex="0"><code>$ tar -zxvf file1.tar.gz file1.txt
or
$ tar --extract --file=file1.tar.gz file1.txt
</code></pre><h2 id="12-untar-single-file-from-tarbz2-file">12. Untar Single file from tar.bz2 File</h2>
<pre tabindex="0"><code>$ tar -jxvf dist.tar.bz2 dist/file1.txt
or
$ tar --extract --file=dist.tar.bz2 dist/file1.txt
</code></pre><h2 id="13-untar-multiple-files-from-tar-targz-and-tarbz2-file">13. Untar Multiple files from tar, tar.gz and tar.bz2 File</h2>
<pre tabindex="0"><code>$ tar -xvf dist.tar &#34;dist/file1.txt&#34; &#34;dist/file2.txt&#34; 

$ tar -zxvf dist.tar.gz &#34;dist/file1.txt&#34; &#34;dist/file2.txt&#34; 

$ tar -zxvf dist.tar.bz2 &#34;dist/file1.txt&#34; &#34;dist/file2.txt&#34; 
</code></pre><h2 id="14-extract-group-of-files-using-wildcard">14. Extract Group of Files using Wildcard</h2>
<pre tabindex="0"><code>$ tar -xvf dist.tar --wildcards &#39;*.txt&#39; 

$ tar -zxvf dist.tar.gz --wildcards &#39;*.txt&#39; 

$ tar -zxvf dist.tar.bz2 --wildcards &#39;*.txt&#39; 
</code></pre><h2 id="15-add-files-or-directories-to-tar-archive-file">15. Add Files or Directories to tar Archive File</h2>
<pre tabindex="0"><code>$ tar -rvf dist.tar file3.txt

$ tar -rvf dist.tar css
</code></pre><h2 id="16-add-files-or-directories-to-targz-and-tarbz2-files">16. Add Files or Directories to tar.gz and tar.bz2 files</h2>
<pre tabindex="0"><code>$ tar -rvf dist.tar.gz file3.txt

$ tar -rvf dist.tar.gz css
</code></pre><h2 id="17-how-to-verify-tar-targz-and-tarbz2-archive-file">17. How To Verify tar, tar.gz and tar.bz2 Archive File</h2>
<pre tabindex="0"><code>$ tar tvfW dist.tar
</code></pre><p>Note:
You cannot do verification on a compressed ( *.tar.gz, *.tar.bz2 ) archive file</p>
<h2 id="18-check-the-size-of-the-tar-targz-and-tarbz2-archive-file">18. Check the Size of the tar, tar.gz and tar.bz2 Archive File</h2>
<pre tabindex="0"><code>$ tar -czf - dist.tar | wc -c
10240

$ tar -czf - dist.tar.gz | wc -c
10240

$ tar -czf - dist.tar.bz2 | wc -c
10240
</code></pre><h2 id="tar-usage-and-options">Tar Usage and Options</h2>
<p>c – create a archive file.<br>
x – extract a archive file.<br>
v – show the progress of archive file.<br>
f – filename of archive file.<br>
t – viewing content of archive file.<br>
j – filter archive through bzip2.<br>
z – filter archive through gzip.<br>
r – append or update files or directories to existing archive file.<br>
W – Verify a archive file.<br>
wildcards – Specify patterns in unix tar command.</p>
<h2 id="source">Source</h2>
<p><a href="https://www.tecmint.com/18-tar-command-examples-in-linux/">https://www.tecmint.com/18-tar-command-examples-in-linux/</a></p>
</div>
    </div>

        </div><script src="/js/highlight.min.js" />
<script>
    document.addEventListener("DOMContentLoaded", (event) => {
        document.querySelectorAll("pre").forEach((block) => {
            hljs.highlightBlock(block);
        });
    });
</script>
</body>
</html>
