---
title: "55.链表中环的入口结点"
url: "post/the-entry-node-of-the-linked-list-loop"
date: 2021-02-10T08:52:23+08:00
keywords: '链表,LinkedList,剑指offer题目'
description: ''
tags: ['LinkedList']
categories: ['Swordoffer']
draft: false
---

## 题目

给一个链表，若其中包含环，请找出该链表的环的入口结点，否则，输出null。

## 思路

1、设置快慢指针，假如有环，他们一定相遇在环中；  
2、两个指针相遇后，让两个指针分别从链表头和相遇点重新出发，每次走一步，最后一定相遇于环入口；  

## JS实现

参考1
```
/*function ListNode(x){
    this.val = x;
    this.next = null;
}*/
function EntryNodeOfLoop(pHead) {
  // write code here
  //至少3个节点才能成环  
  if (!pHead || !pHead.next || !pHead.next.next) {
    return null;
  }

  //定义快慢指针
  let slow = pHead.next;
  let fast = pHead.next.next;

  while (slow && fast) {
    if (fast !== slow) {
      fast = fast.next.next;
      slow = slow.next;
    } else {
      break;
    }
  }

  //没有环
  if (!fast || !slow) {
    return null;
  }

  fast = pHead;
  while (slow != fast) {
    slow = slow.next;
    fast = fast.next;
  }
  return fast;
}
```

参考2
```
function EntryNodeOfLoop(pHead) {
  //定义快慢指针
  let fast = pHead;
  let slow = pHead;

  while (fast.next != null && fast.next.next != null) {
    fast = fast.next.next;
    slow = slow.next;
    //如果有环，想遇于环中某点
    if (fast == slow) {
      break;
    }
  }
  //如果没有环，return null
  if (fast.next == null || fast.next.next == null) {
    return null;
  }
  //如果有环，两个指针分别从链表头和相遇点出发，最终必定在环入口相遇
  slow = pHead;
  while (slow != fast) {
    fast = fast.next;
    slow = slow.next;
  }
  return fast;
}
```