---
title: "代码打印结果"
date: 2021-03-30T17:01:31+08:00
keywords: ''
description: ''
tags: ['JavaScript']
categories: []
draft: true
---

## 33. 下面的代码打印什么内容，为什么？

```javascript
var b = 10;
(function b(){
  b = 20;
  console.log(b); 
})();
```

我的：20
正确：[Function b]

解析：
声明提前：一个声明在函数体内都是可见的，函数声明优先于变量声明； 在非匿名自执行函数中，函数变量为只读状态无法修改；

```javascript
var b = 10;
(function b() {
  // 内部作用域，会先去查找是有已有变量b的声明，有就直接赋值20，确实有了呀。发现了具名函数 function b(){}，拿此b做赋值；
  // IIFE的函数无法进行赋值（内部机制，类似const定义的常量），所以无效。
  // （这里说的“内部机制”，想搞清楚，需要去查阅一些资料，弄明白IIFE在JS引擎的工作方式，堆栈存储IIFE的方式等）
  b = 20;
  console.log(b); // [Function b]
  console.log(window.b); // 10，不是20
})();
```

严格模式下会报错误：

```javascript
var b = 10;
(function b() {
  'use strict'
  b = 20;
  console.log(b);
})() // "Uncaught TypeError: Assignment to constant variable."
```

使用var声明：

```javascript
var b = 10;
(function b() {
  var b = 20; // IIFE内部变量
  console.log(b); // 20
  console.log(window.b); // 10 
})();
```

移除自执行函数名：

```javascript
var b = 10;
(function() {
  b = 20; // 更新全局变量
  console.log(b); // 20
  console.log(window.b); // 20 
})();
```

在JavaScript的立即执行的具名函数A内修改A的值时到底发生了什么？  
https://segmentfault.com/q/1010000002810093

## 34. 简单改造下面的代码，使之分别打印 10 和 20。

```javascript
var b = 10;
(function b(){
    b = 20;
    console.log(b); 
})();
```

## 41. 

```javascript
var a = 10;
(function () {
    console.log(a)
    a = 5
    console.log(window.a)
    var a = 20;
    console.log(a)
})()
```

## 43. 使用 sort() 对数组 [3, 15, 8, 29, 102, 22] 进行排序，输出结果

```javascript
[3, 15, 8, 29, 102, 22].sort();

[3, 15, 8, 29, 102, 22].sort((a,b) => {return a - b});
```

## 46.

```javascript
var obj = {
    '2': 3,
    '3': 4,
    'length': 2,
    'splice': Array.prototype.splice,
    'push': Array.prototype.push
}
obj.push(1)
obj.push(2)
console.log(obj)
```

## 53. 

```javascript
var a = {n: 1};
var b = a;
a.x = a = {n: 2};

console.log(a.x)    
console.log(b.x)
```

## 76.

```javascript
// example 1
var a={}, b='123', c=123;  
a[b]='b';
a[c]='c';  
console.log(a[b]);

---------------------
// example 2
var a={}, b=Symbol('123'), c=Symbol('123');  
a[b]='b';
a[c]='c';  
console.log(a[b]);

---------------------
// example 3
var a={}, b={key:'123'}, c={key:'456'};  
a[b]='b';
a[c]='c';  
console.log(a[b]);
```

## 98. 

```javascript
function changeObjProperty(o) {
  o.siteUrl = "http://www.baidu.com"
  o = new Object()
  o.siteUrl = "http://www.google.com"
} 
let webSite = new Object();
changeObjProperty(webSite);
console.log(webSite.siteUrl);
```

## 100. 

```javascript
function Foo() {
Foo.a = function() {
console.log(1)
}
this.a = function() {
console.log(2)
}
}
Foo.prototype.a = function() {
console.log(3)
}
Foo.a = function() {
console.log(4)
}
Foo.a();
let obj = new Foo();
obj.a();
Foo.a();
```

## 106.

```javascript
String('11') == new String('11');
String('11') === new String('11');
```

## 108. 

```javascript
var name = 'Tom';
(function() {
if (typeof name == 'undefined') {
  var name = 'Jack';
  console.log('Goodbye ' + name);
} else {
  console.log('Hello ' + name);
}
})();
```

## 109. 

```javascript
var name = 'Tom';
(function() {
if (typeof name == 'undefined') {
  name = 'Jack';
  console.log('Goodbye ' + name);
} else {
  console.log('Hello ' + name);
}
})();
```

## 116. 

```javascript
1 + "1"

2 * "2"

[1, 2] + [2, 1]

"a" + + "b"
```

## 129. 输出以下代码执行结果

```javascript
function wait() {
  return new Promise(resolve =>
    setTimeout(resolve, 10 * 1000)
  )
}

async function main() {
  console.time();
  const x = wait();
  const y = wait();
  const z = wait();
  await x;
  await y;
  await z;
  console.timeEnd();
}
main();
```

## 130. 输出以下代码执行结果，大致时间就好

```javascript
function wait() {
  return new Promise(resolve =>
    setTimeout(resolve, 10 * 1000)
  )
}

async function main() {
  console.time();
  await wait();
  await wait();
  await wait();
  console.timeEnd();
}
main();
```

## More 

木易杨前端进阶-JS基础
https://muyiy.cn/question/js/2.html